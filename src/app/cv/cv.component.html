<div
  class="card">
    <header>
        <span
            class="button-group">
            <button
                (click)="decreaseFontSize()"
                [disabled]="fontSize === MIN_FONT_SIZE"
                class="btn btn-secondary">
                aa
            </button>
            <button
                (click)="increaseFontSize()"
                [disabled]="fontSize === MAX_FONT_SIZE"
                class="btn btn-secondary">
                AA
            </button>
        </span>

        <select
            class="custom-select"
            (change)="changeFontFamily($event)">
            <option
                value="">
                Default
            </option>

            <option
                value="sans-serif">
                Sans-Serif
            </option>

            <option
                value="serif">
                Serif
            </option>
        </select>

        <button
            (click)="openDropdown($event)"
            class="btn btn-secondary">
            ...

            <cv-dropdown
                #dropdown
                closeOnScroll="true">
                <a
                    class="item">
                    Print
                </a>

                <a
                    class="item">
                    Share
                </a>

                <div
                    class="divider"></div>

                <a
                    class="item">
                    Rename
                </a>

                <a
                    (click)="removeCV()"
                    class="item text-danger">
                    Delete
                </a>
            </cv-dropdown>
        </button>
    </header>
</div>

<div
  class="card">
  <section
    *ngFor="let section of (sections | async)">

    <!--TODO MOVE PATH CALCULATION TO SOMEWHERE ELSE-->

    <cv-details
      *ngIf="section.meta.type === 'DETAILS'"
      [path]="'sections/' + (uid | async) + '/' + (cid | async) + '/' + section.$key"
      [section]="section"
      [style.order]="section.meta.order">
    </cv-details>

    <cv-divider
      *ngIf="section.meta.type === 'DIVIDER'"
      [path]="'sections/' + (uid | async) + '/' + (cid | async) + '/' + section.$key"
      [section]="section"
      [style.order]="section.meta.order">
    </cv-divider>

    <cv-education
      *ngIf="section.meta.type === 'EDUCATION'"
      [path]="'sections/' + (uid | async) + '/' + (cid | async) + '/' + section.$key"
      [section]="section"
      [style.order]="section.meta.order">
    </cv-education>

    <cv-experience
      *ngIf="section.meta.type === 'EXPERIENCE'"
      [path]="'sections/' + (uid | async) + '/' + (cid | async) + '/' + section.$key"
      [section]="section"
      [style.order]="section.meta.order">
    </cv-experience>

    <cv-skills
      *ngIf="section.meta.type === 'SKILLS'"
      [path]="'sections/' + (uid | async) + '/' + (cid | async) + '/' + section.$key"
      [section]="section"
      [style.order]="section.meta.order">
    </cv-skills>
  </section>
</div>

<label
  class="form-control-label">
  Add new section
</label>
<form
  (submit)="submitChanges($event)"
  class="card"
  autocomplete="off"
  novalidate>
  <div
    class="form-group">
    <label>Title</label>
    <input
      placeholder="Section title"
      class="form-control"
      type="text"
      name="name"
      [(ngModel)]="newSection.title">
  </div>

  <div
    class="form-group">
    <label>Type</label>
    <select
      name="type"
      class="custom-select"
      [(ngModel)]="newSection.type">
      <option
        [value]="type.type"
        *ngFor="let type of types">
        {{ type.name }}
      </option>
    </select>
  </div>

  <button
    type="submit"
    class="btn btn-block btn-success">
    Add
  </button>
</form>
