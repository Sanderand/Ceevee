<div class="cv">
  <div
    *ngIf="data"
    [class]="data.theme.class">

    <div class="details">
      <div class="name">{{ data.details.name }}</div>

      <div>
        <div class="address">{{ data.details.address }}</div>
        <div class="tel">{{ data.details.tel }}</div>
      </div>

      <div>
        <a
          [attr.href]="'mailto:' + data.details.email"
          class="email">{{ data.details.email }}</a>
        <a
          [attr.href]="data.details.url"
          target="_blank"
          class="url">{{ data.details.url }}</a>
      </div>
    </div>

    <div class="items">
      <div
        *ngFor="let item of data.items"
        class="item">
        <div
          *ngIf="item.class === TYPES.TEXT"
          [class]="item.class">
          <div class="title">{{ item.title }}</div>
          <div class="content">{{ item.content }}</div>
        </div>

        <div
          *ngIf="item.class === TYPES.EXPERIENCE"
          [class]="item.class">
          <div class="title">{{ item.title }}</div>

          <div
            *ngFor="let child of item.items"
            class="child">
            <div class="left">
              <div class="title">{{ child.title }}</div>

              <div class="timespan">
                <div class="start">{{ child.start | date:'MM/yy' }}</div>
                <div class="end">{{ child.end ? (child.end | date:'MM/yy') : CONSTANTS.UNTIL_NOW }}</div>
              </div>
            </div>

            <div class="right">
              <a
                [attr.href]="child.link"
                target="_blank"
                class="institution">{{ child.institution }}</a>
              <div class="location">{{ child.location }}</div>
              <div class="description">{{ child.description }}</div>

              <div class="tags">
                <div
                  *ngFor="let tag of child.tags"
                  class="tag">
                  {{ tag.name }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          *ngIf="item.class === TYPES.EDUCATION"
          [class]="item.class">
          <div class="title">{{ item.title }}</div>

          <div
            *ngFor="let child of item.items"
            class="child">

            <div class="left">
              <div class="title">{{ child.title }}</div>

              <div class="timespan">
                <div class="start">{{ child.start | date:'MM/yy' }}</div>
                <div class="end">{{ child.end ? (child.end | date:'MM/yy') : CONSTANTS.UNTIL_NOW }}</div>
              </div>
            </div>

            <div class="right">
              <a
                [attr.href]="child.link"
                target="_blank"
                class="institution">{{ child.institution }}</a>
              <div class="location">{{ child.location }}</div>
              <div class="description">{{ child.description }}</div>
              <div class="field">Field: {{ child.field }}</div>
              <div class="grade">Grade: {{ child.grade }}</div>
            </div>
          </div>
        </div>

        <div
          *ngIf="item.class === TYPES.SKILLS"
          [class]="item.class">
          <div class="title">{{ item.title }}</div>

          <div
            *ngFor="let child of item.items"
            class="child">
            <div class="title">{{ child.title }}</div>

            <div class="bar">
              <div
                *ngIf="child.percentage"
                class="wrapper">
                <div
                  class="percentage"
                  [style.width]="child.percentage * 100 + '%'">
                </div>
              </div>

              <div
                *ngIf="child.description"
                class="description">
                {{ child.description }}
              </div>
            </div>
          </div>
        </div>

        <div
          *ngIf="item.class === TYPES.DETAIL_LIST"
          [class]="item.class">
          <div class="title">{{ item.title }}</div>

          <div
            *ngFor="let child of item.items"
            class="child">

            <div class="left">
              <div class="title">{{ child.title }}</div>

              <div class="timespan">
                <div
                  *ngIf="child.start"
                  class="start">{{ child.start | date:'MM/yy' }}
                </div>
                <div class="end">{{ child.end ? (child.end | date:'MM/yy') : CONSTANTS.UNTIL_NOW }}</div>
              </div>
            </div>

            <div class="right">
              <a
                *ngIf="child.institution"
                [attr.href]="child.link"
                target="_blank"
                class="institution">{{ child.institution }}</a>

              <div
                *ngIf="child.location"
                class="location">{{ child.location }}</div>

              <div class="description">{{ child.description }}</div>

              <div class="tags">
                <div
                  *ngFor="let tag of child.tags"
                  class="tag">
                  {{ tag.name }}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          *ngIf="item.class === TYPES.RECOMMENDATION"
          [class]="item.class">
          <div class="title">{{ item.title }}</div>

          <div
            *ngFor="let child of item.items"
            class="child">
            <div class="name">{{ child.name }}</div>
            <div class="relationship">{{ child.relationship }}</div>
            <div class="institution">{{ child.institution }}</div>
            <div class="comment">{{ child.comment }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
